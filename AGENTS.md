# JVP AI 规范

## 强制要求

1. 返回的错误信息应该使用 apierror 包中的 ErrorResponse
2. 代码编写完成后必须编写单元测试，并且测试覆盖率要高
3. 必须通过 `task lint` 和 `task test` 命令来检查代码质量和测试覆盖率

## 单元测试

1. 测试内容要尽量集中，不要分散；
2. 使用 t.Parallel 函数来并行执行测试用例；
3. 使用 testcase 结构体来组织测试用例并且使用 testify 的 assert 函数来断言
4. 使用 t.Run 函数来组织子测试用例；
5. 必须用很少的测试用例覆盖尽可能多的功能；
6. 测试覆盖率要高，尽量覆盖所有代码分支。

## 示例代码

1. 对于公共包或者基础库，使用示例代码来演示如何使用，文件名以 `{包名}_example_test.go` 结尾；
2. 示例代码要尽量简洁明了，不要过于复杂；

## 日志

1. 使用 zerolog 库来记录日志；
