# vm 模块

/vm
负责虚拟机的完整生命周期管理

## 生命周期管理

### 创建虚拟机

/vm/create-vm

1. 指定 template
2. cpu/mem
3. storage pool
4. 网络配置

### 启动虚拟机

/vm/{vm-name}/boot

启动已经存在的虚拟机

### 停止虚拟机

/vm/{vm-name}/shutdown
停止已经存在的虚拟机

### 重启虚拟机

/vm/{vm-name}/reboot

重启已经存在的虚拟机

### 删除虚拟机

/vm/{vm-name}/delete

删除已经存在的虚拟机

## 查询与监控

### 列举查询虚拟机

/vm/list-vms?state={state}&name={name}

- 支持过滤：状态、名称等

### 查询虚拟机详情

/vm/{vm-name}/describe

cpu、磁盘、内存、网络、状态、名称、UUID、创建时间、更新时间

### 查询虚拟机监控指标

/vm/{vm-name}/describe-metrics

某个时间段内的 cpu、磁盘、内存、网络的 IO 使用情况

### 查询实例的 XML 配置

/vm/{vm-name}/describe-xml
虚拟机的 XML 配置

## 配置管理

### 修改虚拟机配置

/vm/{vm-name}/modify-spec

- CPU 核心数
- 内存大小
- 实例名称

### 重置虚拟机密码

/vm/{vm-name}/reset-password

- 支持多种策略：qemu-guest-agent / cloud-init / virt-customize

## 控制台访问

### VNC console

/vm/{vm-name}/vnc-console

### Serial console

/vm/{vm-name}/serial-console

## 存储管理

### 附加 volume 到虚拟机

/vm/{vm-name}/attach-volume

### 从虚拟机分离 volume

/vm/{vm-name}/detach-volume

## 快照管理

### 创建快照

/vm/{vm-name}/create-snapshot
